"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{786:function(n,t,e){e.r(t),e.d(t,{Search:function(){return p}});var r=e(7437),a=e(4033),i=e(2265),u=e(3108),l=e(3834);e(1148);var c=e(6691),o=e.n(c),s=e(1396),d=e.n(s);let f=n=>{var t;let{product:e,onClick:a}=n;return(0,r.jsxs)(d(),{className:"flex w-full items-start gap-3 p-2",href:"/".concat(e.attributes.slug),onClick:a,children:[(0,r.jsx)(o(),{alt:e.attributes.name,className:"hidden tablet:block",height:50,src:"".concat("http://localhost:1337").concat(e.attributes.productPreviewImg.data.attributes.url),width:50}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"hidden tablet:block",children:e.attributes.name}),(0,r.jsx)("span",{className:"block tablet:hidden",children:e.attributes.name.length>20?"".concat(e.attributes.name.slice(0,20),"..."):e.attributes.name})]}),(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:"hidden font-bold tablet:block",children:["$",null!==(t=e.attributes.discountPrice)&&void 0!==t?t:e.attributes.price]})]})]})},p=()=>{let[n,t]=i.useState(!1),[e,c]=i.useState(""),[o,s]=i.useState(!1),d=i.useRef(null),p=i.useRef(null),m=function(n,t){let[e,r]=(0,i.useState)(n);return(0,i.useEffect)(()=>{let e=setTimeout(()=>r(n),t||500);return()=>{clearTimeout(e)}},[n,t]),e}(e,700),{data:h,loading:g,refetch:b}=(0,l.tf)({skip:m.length<2,variables:{name:m}}),v=n=>{d.current&&!d.current.contains(n.target)&&(t(!1),s(!1))},P=()=>{s(!1),t(!1),c("")};return i.useEffect(()=>{b({name:m}).catch(a.notFound)},[m]),i.useEffect(()=>(document.addEventListener("mousedown",v),document.body.classList.add("lock"),()=>{document.removeEventListener("mousedown",v),document.body.classList.remove("lock")}),[n,o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:d,className:"absolute right-0 top-[50%] z-[10] h-[100%] min-h-[38px]  w-full -translate-y-[50%]  transition-all laptop:pr-14 ".concat(n?"laptop:max-w-full":" laptop:max-w-0"),children:[(0,r.jsx)("span",{className:"absolute left-2 top-[50%] z-20 -translate-y-[50%] laptop:hidden",children:g?(0,r.jsx)("div",{className:"ml-1 h-[20px] w-[20px]",children:(0,r.jsx)(u.L4,{circle:"outline",path:"outline"})}):(0,r.jsx)(u.W1,{className:"text-light-gray",width:"30"})}),(0,r.jsx)(u.II,{ref:p,clearInput:()=>c(""),placeholder:"Search here...",tabIndex:n?0:-1,value:e,className:"h-full w-full rounded-full bg-dark-white pl-10  pr-5  placeholder:text-xs placeholder:text-dark-gray laptop:transition-all laptop:placeholder:text-base ".concat(n?"laptop:opacity-100 laptop:placeholder:opacity-100":"laptop:opacity-0 laptop:placeholder:opacity-0"),onBlur:()=>{((null==h?void 0:h.products.data.length)===0||(null==h?void 0:h.products.data.length)===void 0)&&s(!1)},onChange:n=>c(n.target.value),onFocus:()=>{s(!0)}}),(0,r.jsx)("button",{"aria-label":"button",className:"absolute right-5 top-[50%] hidden -translate-y-[50%] laptop:block",type:"button",onClick:()=>{var e,r;t(!n),null===(e=p.current)||void 0===e||e.focus(),n&&(null===(r=p.current)||void 0===r||r.blur())},children:n?(0,r.jsx)(u.Tw,{className:"transition-all hover:text-blue",width:"30"}):(0,r.jsx)(u.W1,{className:"transition-all hover:text-blue",width:"30"})}),!!(null==h?void 0:h.products.data.length)&&o&&(0,r.jsx)("ul",{className:"mt-2 flex flex-col divide-y-2 rounded-xl border bg-white p-3",children:null==h?void 0:h.products.data.slice(0,10).map(n=>(0,r.jsx)("li",{children:(0,r.jsx)(f,{product:n,onClick:P})},n.id))}),!(null==h?void 0:h.products.data.length)&&m&&o&&(0,r.jsx)("div",{className:"mt-2 flex flex-col divide-y-2 rounded-xl border bg-white p-3",children:"Product not found"})]}),o&&(0,r.jsx)("div",{className:"min-w-screen fixed left-0 top-0 z-[9] mt-2 h-full min-h-screen w-full bg-blue transition-all  ".concat(o?"opacity-30":"opacity-0"," ")})]})}},3834:function(n,t,e){e.d(t,{tP:function(){return G},tf:function(){return J}});var r,a,i,u,l=e(946),c=e(230),o=e(7068);function s(){let n=(0,c._)(["\n  fragment LinkFragment on ComponentUiLink {\n    id\n    label\n    href\n  }\n"]);return s=function(){return n},n}function d(){let n=(0,c._)(["\n  fragment NavLinkFragment on NavLink {\n    navLinks {\n      ...LinkFragment\n    }\n  }\n  ","\n"]);return d=function(){return n},n}function f(){let n=(0,c._)(["\n  fragment File on UploadFile {\n    name\n    alternativeText\n    caption\n    width\n    height\n    formats\n    hash\n    ext\n    mime\n    size\n    url\n    previewUrl\n    provider\n    provider_metadata\n  }\n"]);return f=function(){return n},n}function p(){let n=(0,c._)(["\n  fragment Category on Category {\n    title\n  }\n"]);return p=function(){return n},n}function m(){let n=(0,c._)(["\n  fragment Product on Product {\n    name\n    price\n    discountPrice\n    productPreviewImg {\n      data {\n        id\n        attributes {\n          ...File\n        }\n      }\n    }\n    stock\n    slug\n    shortName\n    description\n    category {\n      data {\n        attributes {\n          ...Category\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return n},n}function h(){let n=(0,c._)(["\n  query filterProducts($minPrice: Float, $maxPrice: Float, $selectedBrands: [String]) {\n    products(\n      filters: {\n        price: { between: [$minPrice, $maxPrice] }\n        or: [{ brand: { title: { in: $selectedBrands } } }]\n      }\n    ) {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return h=function(){return n},n}function g(){let n=(0,c._)(["\n  query getBrands {\n    brands {\n      data {\n        id\n        attributes {\n          title\n        }\n      }\n    }\n  }\n"]);return g=function(){return n},n}function b(){let n=(0,c._)(["\n  query getNavLinks {\n    navLinks {\n      data {\n        id\n        attributes {\n          ...NavLinkFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return b=function(){return n},n}function v(){let n=(0,c._)(["\n  query getProduct($slug: String) {\n    products(filters: { slug: { eq: $slug } }) {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return v=function(){return n},n}function P(){let n=(0,c._)(["\n  query getProducts {\n    products {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return P=function(){return n},n}function x(){let n=(0,c._)(["\n  query SearchProducts($name: String!) {\n    products(filters: { name: { contains: $name } }) {\n      data {\n        id\n        attributes {\n          name\n          price\n          discountPrice\n          productPreviewImg {\n            data {\n              attributes {\n                url\n              }\n            }\n          }\n          slug\n        }\n      }\n    }\n  }\n"]);return x=function(){return n},n}(r=i||(i={})).Live="LIVE",r.Preview="PREVIEW";let k=(0,o.ZP)(s()),y=(0,o.ZP)(d(),k),w=(0,o.ZP)(f()),N=(0,o.ZP)(p()),_=(0,o.ZP)(m(),w,N);(0,o.ZP)(h(),_),(0,o.ZP)(g()),(0,o.ZP)(b(),y),(0,o.ZP)(v(),_),(0,o.ZP)(P(),_),(0,o.ZP)(x()),(n,t,e,r)=>n();var L=e(392);function j(){let n=(0,c._)(["\n  fragment LinkFragment on ComponentUiLink {\n    id\n    label\n    href\n  }\n"]);return j=function(){return n},n}function F(){let n=(0,c._)(["\n  fragment NavLinkFragment on NavLink {\n    navLinks {\n      ...LinkFragment\n    }\n  }\n  ","\n"]);return F=function(){return n},n}function $(){let n=(0,c._)(["\n  fragment File on UploadFile {\n    name\n    alternativeText\n    caption\n    width\n    height\n    formats\n    hash\n    ext\n    mime\n    size\n    url\n    previewUrl\n    provider\n    provider_metadata\n  }\n"]);return $=function(){return n},n}function q(){let n=(0,c._)(["\n  fragment Category on Category {\n    title\n  }\n"]);return q=function(){return n},n}function C(){let n=(0,c._)(["\n  fragment Product on Product {\n    name\n    price\n    discountPrice\n    productPreviewImg {\n      data {\n        id\n        attributes {\n          ...File\n        }\n      }\n    }\n    stock\n    slug\n    shortName\n    description\n    category {\n      data {\n        attributes {\n          ...Category\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return C=function(){return n},n}function S(){let n=(0,c._)(["\n  query filterProducts($minPrice: Float, $maxPrice: Float, $selectedBrands: [String]) {\n    products(\n      filters: {\n        price: { between: [$minPrice, $maxPrice] }\n        or: [{ brand: { title: { in: $selectedBrands } } }]\n      }\n    ) {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return S=function(){return n},n}function E(){let n=(0,c._)(["\n  query getBrands {\n    brands {\n      data {\n        id\n        attributes {\n          title\n        }\n      }\n    }\n  }\n"]);return E=function(){return n},n}function I(){let n=(0,c._)(["\n  query getNavLinks {\n    navLinks {\n      data {\n        id\n        attributes {\n          ...NavLinkFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return I=function(){return n},n}function Z(){let n=(0,c._)(["\n  query getProduct($slug: String) {\n    products(filters: { slug: { eq: $slug } }) {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return n},n}function B(){let n=(0,c._)(["\n  query getProducts {\n    products {\n      data {\n        id\n        attributes {\n          ...Product\n        }\n      }\n    }\n  }\n  ","\n"]);return B=function(){return n},n}function z(){let n=(0,c._)(["\n  query SearchProducts($name: String!) {\n    products(filters: { name: { contains: $name } }) {\n      data {\n        id\n        attributes {\n          name\n          price\n          discountPrice\n          productPreviewImg {\n            data {\n              attributes {\n                url\n              }\n            }\n          }\n          slug\n        }\n      }\n    }\n  }\n"]);return z=function(){return n},n}let U={};(a=u||(u={})).Live="LIVE",a.Preview="PREVIEW";let T=(0,o.Ps)(j()),R=(0,o.Ps)(F(),T),V=(0,o.Ps)($()),W=(0,o.Ps)(q()),A=(0,o.Ps)(C(),V,W),D=(0,o.Ps)(S(),A);function G(n){let t={...U,...n};return L.a(D,t)}(0,o.Ps)(E()),(0,o.Ps)(I(),R),(0,o.Ps)(Z(),A),(0,o.Ps)(B(),A);let H=(0,o.Ps)(z());function J(n){let t={...U,...n};return L.a(H,t)}let K=new l.g6("".concat("http://localhost:1337","/graphql/playground"),{headers:{Authorization:"Bearer ".concat("c74df24c296c1fe045f21ebe853ad084b43ff7369210fc686e5db61ae8fa01c5dfcfa4da74fa05b3dae1288c4be0751828b13a18bb914910d4976ed3a31c3853da4aa8c543e5d95b97f53d8432edadedc33ca50c68ef832ad9c3c94a5630568a8f5874672e7cc247c12469be6ff29e35dcb26296a5e2845a1a9fe45f642e7f58")}});!function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}(K)}}]);